name: cors
version: v0.3.0
description: |
  Applies Cross-Origin Resource Sharing (CORS) rules by handling preflight
  requests and adding CORS headers to responses. Controls cross-origin access
  through configured origins, methods, headers, credentials, and cache settings.

parameters:
  type: object
  properties:
    allowedOrigins:
      type: array
      x-wso2-policy-advanced-param: false
      description:
        Specifies allowed origins for cross-origin access. Supports "*", exact
        origins, and regex patterns. At least one origin is required; otherwise
        cross-origin requests are rejected.
      default:
        - "*"
      items:
        type: string
        minLength: 1
        maxLength: 2048
      minItems: 1
    allowedMethods:
      type: array
      x-wso2-policy-advanced-param: true
      description:
        Specifies allowed HTTP methods for cross-origin requests, such as GET,
        POST, PUT, DELETE, PATCH, OPTIONS, and HEAD.
      items:
        type: string
        enum:
          - GET
          - POST
          - PUT
          - DELETE
          - PATCH
          - OPTIONS
          - HEAD
          - "*"
      minItems: 1
      default:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
    allowedHeaders:
      type: array
      x-wso2-policy-advanced-param: true
      description:
        Specifies request headers allowed in cross-origin requests. Supports "*"
        to allow all headers or explicit header names.
      default: []
      items:
        type: string
        minLength: 1
        maxLength: 256
    exposedHeaders:
      type: array
      x-wso2-policy-advanced-param: true
      description:
        Specifies response headers exposed to browser JavaScript in
        cross-origin responses.
      items:
        type: string
        minLength: 1
        maxLength: 256
      default: []
    allowCredentials:
      type: boolean
      x-wso2-policy-advanced-param: true
      description: Specifies whether credentials are allowed in cross-origin requests.
        When true, allowedOrigins cannot contain "*".
      default: false
    maxAge:
      type: integer
      x-wso2-policy-advanced-param: true
      description: Specifies how long, in seconds, browsers can cache preflight responses.
      minimum: 0
      maximum: 86400
      default: 3600
    forwardPreflight:
      type: boolean
      x-wso2-policy-advanced-param: true
      description: Specifies whether unmatched preflight requests are forwarded
        upstream instead of handled by this policy.
      default: false

  required:
    - allowedOrigins

systemParameters:
  type: object
  properties: {}
